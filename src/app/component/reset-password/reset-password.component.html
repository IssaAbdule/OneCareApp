<ng-template #resetPasswordModal let-modal>
  <div class="modal-header">
    <h5 class="modal-title">Reset Your Password</h5>
    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <form (ngSubmit)="resetPassword()" #resetPasswordForm="ngForm">
      <div class="form-group">
        <label for="newPassword">New Password</label>
        <input
          type="password"
          id="newPassword"
          [(ngModel)]="newPassword"
          name="newPassword"
          class="form-control"
          required
          minlength="6"
        />
      </div>
      <div class="form-group">
        <label for="confirmPassword">Confirm New Password</label>
        <input
          type="password"
          id="confirmPassword"
          [(ngModel)]="confirmPassword"
          name="confirmPassword"
          class="form-control"
          required
          minlength="6"
          [ngClass]="{
            'is-invalid': resetPasswordForm.submitted && newPassword !== confirmPassword
          }"
        />
        <div
          *ngIf="resetPasswordForm.submitted && newPassword !== confirmPassword"
          class="invalid-feedback"
        >
          Passwords do not match.
        </div>
      </div>
      <div class="modal-footer">
        <button type="submit" class="btn btn-primary" [disabled]="resetPasswordForm.invalid">
          Reset Password
        </button>
        <button type="button" class="btn btn-secondary" (click)="close()">Cancel</button>
      </div>
    </form>

    <div *ngIf="promptMsg" class="alert alert-info mt-3" style="z-index: 1050; padding: 10px; border: 1px solid #ccc;">
      {{promptMsg}}
    </div>
  </div>
</ng-template>
